Token
====
stateful 서버??
----------
- 먼저 Stateful 서버는 클라이언트에게서 요청을 받을 때 마다, 클라이언트의 상태를 계속해서 유지하고, 이 정보를 서비스 제공에 이용한다.(세션을 유지하는 웹서버) 

    ![alltext](https://velopert.com/wp-content/uploads/2016/12/bb.png "서버 기반 인증")

<h3>서버 기반 인증의 문제점</h3>

1. 세션 (유저가 인증을 할 때, 서버는 이 기록을 서버에 저장하는 것)
- 로그인 중인 유저의 수가 늘어난다면 서버의 램이 과부화가 된다. 데이터베이스에 시스템에 저장하는 방식도 있지만, 이 또한 데이터베이스의 성능에 무리를 줄 수 있다.

2. 확장성 (여러개의 프로세스를 돌리거나, 여러대의 서버 컴퓨터를 추가 하는것을 의미)
-  세션을 사용하면서 분산된 시스템을 설계하는건 불가능한것은 아니지만 과정이 매우 복잡해진다.

3. CORS (Cross-Origin Resource Sharing)
- 세션을 관리 할 때 사용되는 쿠키는 단일 도메인 및 서브 도메인에서만 작동하도록 설계되어있다. 따라서 쿠키를 여러 도메인에서 관리하는것은 번거롭다.

Stateless 서버??
-----------------
- Stateless 서버는 반대로, 상태를 유지 하지 않는다. 상태정보를 저장하지 않으면, 서버는 클라이언트측에서 들어오는 요청만으로만 작업을 처리한다. 이렇게 상태가 없는 경우 **서버의 확장성 (Scalability)** 이 높아진다.

    ![alltext](https://velopert.com/wp-content/uploads/2016/12/token-diagram.png "토큰 기반 인증")
1. 유저가 아이디와 비밀번호로 로그인을 한다
2. 서버측에서 해당 계정정보를 검증한다.
3. 계정정보가 정확하다면, 서버측에서 유저에게 signed 토큰을 발급해준다.

_웹서버에서 토큰을 서버에 전달 할 때에는, HTTP 요청의 헤더에 토큰값을 포함시켜서 전달한다._

**토큰 기반 인증 시스템의 구현체인 JWT는 웹 표준 RFC 7519 에 등록되어있다.**